@prefix : <http://www.example.org/ANU-LED-example#> .
@prefix ogc: <http://www.opengis.net/ont/geosparql#> .
@prefix qb: <http://purl.org/linked-data/cube#> .
@prefix ssn: <http://purl.oclc.org/NET/ssnx/ssn#> .
@prefix led: <http://www.example.org/ANU-LED#> .
@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sweet: <http://sweet.jpl.nasa.gov/2.3/prop.owl#> .
@prefix sdmx-dimension:  <http://purl.org/linked-data/sdmx/2009/dimension#> .

<http://www.example.org/ANU-LED-example> a owl:Ontology ;
	owl:imports <http://www.example.org/ANU-LED> .
    
#################################################################
#        SSN description
#################################################################
:landsat-8 a owl:NamedIndividual, ssn:Platform .

:OLI a owl:NamedIndividual, ssn:Sensor ;
    ssn:onPlatform :landsat-8 ;
    ssn:hasMeasurementCapability :oli-capability ;
    ssn:observes :reflectance .
    
:oli-capability a owl:NamedIndividual, ssn:MeasurementCapability ;
    ssn:forProperty :reflectance .

:reflectance a owl:NamedIndividual, ssn:Property ;
    owl:sameAs sweet:Reflectance .

#################################################################
#        Dataset
#################################################################

:exampleDataset a owl:NamedIndividual , qb:DataSet ;
	qb:structure :exampleStructure ;
    :instrument :OLI ;
    :satellite :landsat-8 ;
    :band "4" ;
    :dggs "rHEALPix WGS84 Ellipsoid" .

#################################################################
#        Dimensions and attributes
#################################################################

:exampleStructure a owl:NamedIndividual , qb:DataStructureDefinition ;
	qb:component :positionComponent ,
                 :latitudeComponent ,
                 :longitudeComponent ,
                 :timeComponent ,
                 :satelliteComponent ,
                 :instrumentComponent ,
                 :bandComponent ,
                 :dataComponent ,
                 :dggsComponent ,
                 :dggsCellComponent ,
                 :dggsLevelSquareComponent ,
                 :dggsLevelPixelComponent ,
                 :resolutionComponent ,
                 :boundsComponent .

:positionComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension led:location .
    
:latitudeComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension led:lat .
    
:longitudeComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension led:long .

:timeComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension :time .   
    
:satelliteComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute :satellite .   
    
:instrumentComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute :instrument .
    
:bandComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute :band .
    
:dataComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:measure led:imageData .
    
:dggsComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute :dggs .

:dggsCellComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension :dggsCell .
    
:dggsLevelSquareComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension :dggsLevelSquare .
    
:dggsLevelPixelComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension :dggsLevelPixel .
    
:resolutionComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute led:resolution .
    
:boundsComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute led:bounds .

#################################################################
#        New properties for the attributes
#################################################################

:time a owl:DatatypeProperty, qb:DimensionProperty ;
    rdfs:range xsd:dateTime .
    
:satellite a owl:ObjectProperty, qb:AttributeProperty ;
    rdfs:range ssn:Platform .
    
:instrument a owl:ObjectProperty, qb:AttributeProperty ;
    rdfs:range ssn:Sensor .
    
:band a owl:DatatypeProperty, qb:AttributeProperty ;
    rdfs:range xsd:integer .

:dggs a owl:DatatypeProperty, qb:AttributeProperty ;
    rdfs:range xsd:string .
    
:dggsCell a owl:DatatypeProperty, qb:DimensionProperty ;
    rdfs:range xsd:string .

:dggsLevelSquare a owl:DatatypeProperty, qb:DimensionProperty ;
    rdfs:range xsd:integer .
    
:dggsLevelPixel a owl:DatatypeProperty, qb:DimensionProperty ;
    rdfs:range xsd:integer .

#################################################################
#        Observations
#################################################################

:s1 a led:GridSquare ;
    qb:dataSet :exampleDataset ;
    led:location [geo:lat "91.6667"; geo:long "40.0270"] ;
    led:lat "91.6667";
    led:long "40.0270";
    :time "2001-10-26T21:32:52"^^xsd:dateTime ;
    led:imageData "http://www.example.org/led-example-image-R000" ;
    led:resolution "0.9"^^led:pixelsPerDegree ;
    :dggsCell "R000" ;
    :dggsLevelSquare "3" ;
    :dggsLevelPixel "4" ;
    led:bounds  "POLYGON((90 41.87, 93.33 41.87, 93.33 38.18, 90 38.18, 90 41.87))"^^ogc:wktLiteral .
    
:s2 a led:GridSquare ;
    qb:dataSet :exampleDataset ;
    led:location [geo:lat "90.5556"; geo:long "41.2471"] ;
    led:lat "90.5556";
    led:long "41.2471";
    :time "2001-10-26T21:32:52"^^xsd:dateTime ;
    led:imageData "http://www.example.org/led-example-image-R0000" ;
    led:resolution "2.7"^^led:pixelsPerDegree ;
    :dggsCell "R0000" ;
    :dggsLevelSquare "4" ;
    :dggsLevelPixel "5" ;
    led:bounds  "POLYGON((90 41.87, 91.11 41.87, 91.11 40.62, 90 40.62, 90 41.87))"^^ogc:wktLiteral ;
    led:containedInSquare :s1 .
    
:p1 a led:Pixel ;
    qb:dataSet :exampleDataset ;
    led:location [geo:lat "90.5556"; geo:long "41.2444"] ;
    led:lat "90.5556";
    led:long "41.2444";
    :time "2001-10-26T21:32:52"^^xsd:dateTime ;
    led:imageData "15"^^xsd:integer ;
    led:resolution "2.7"^^led:pixelsPerDegree ;
    :dggsCell "R00004" ;
    :dggsLevelSquare "5" ;
    :dggsLevelPixel "5" ;
    led:bounds  "POLYGON((90.37 41.45, 90.74 41.45, 90.74 41.04, 90.37 41.04, 90.37 41.45))"^^ogc:wktLiteral ;
    led:containedInSquare :s1 ;
    led:containedInSquare :s2 .
    
