@prefix : <http://www.example.org/ANU-LED-example#> .
@prefix ogc: <http://www.opengis.net/ont/geosparql#> .
@prefix qb: <http://purl.org/linked-data/cube#> .
@prefix ssn: <http://purl.oclc.org/NET/ssnx/ssn#> .
@prefix led: <http://www.example.org/ANU-LED#> .
@prefix geo: <http://www.w3.org/2003/01/geo/wgs84_pos#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sweet: <http://sweet.jpl.nasa.gov/2.3/prop.owl#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .
@prefix sdmx-concept:  <http://purl.org/linked-data/sdmx/2009/concept#> .
@prefix cci-platform: <http://vocab-test.ceda.ac.uk/collection/cci/platform/> .
@prefix cci-sensor: <http://vocab-test.ceda.ac.uk/collection/cci/sensor/> .
@prefix cci-dataType: <http://vocab-test.ceda.ac.uk/collection/cci/dataType/> .
@prefix vcard: <http://www.w3.org/2006/vcard/ns#> .

<http://www.example.org/ANU-LED-example> a owl:Ontology ;
	owl:imports <http://www.example.org/ANU-LED> .
    
#################################################################
#        SSN description
#################################################################
:landsat-8 a owl:NamedIndividual, ssn:Platform ;
    owl:sameAs cci-platform:plat_landsat_8 .

:OLI a owl:NamedIndividual, ssn:Sensor ;
    ssn:onPlatform :landsat-8 ;
    ssn:hasMeasurementCapability :oli-capability ;
    ssn:observes :reflectance ;
    owl:sameAs cci-sensor:sens_oli .
    
:oli-capability a owl:NamedIndividual, ssn:MeasurementCapability ;
    ssn:forProperty :reflectance .

:reflectance a owl:NamedIndividual, ssn:Property, skos:Concept ;
    owl:sameAs sweet:Reflectance ;
    owl:sameAs cci-dataType:dtype_sr .

#################################################################
#        Dataset
#################################################################

:exampleDataset a owl:NamedIndividual , qb:DataSet, prov:Entity ;
	qb:structure :exampleStructure ;
    :instrument :OLI ;
    :satellite :landsat-8 ;
    :band "4" ;
    :dggs "rHEALPix WGS84 Ellipsoid" ;
    prov:wasGeneratedBy :ANU-led-resampling ;
    prov:wasDerivedFrom :AGDC .
    
#################################################################
#        PROV-O description
#################################################################

:ANU-led-resampling a prov:Activity ;
    prov:wasAssociatedWith :DmitryBrizhinev ;
    prov:used :AGDC .
    
:DmitryBrizhinev a prov:Agent, prov:Person ;
    foaf:givenName "Dmitry"^^xsd:string ;
    foaf:mbox      <mailto:dmitry.brizhinev@anu.edu.au> .
    
:AGDC a prov:Collection ;
    prov:wasAssociatedWith :GeoscienceAustralia ;
    prov:hadMember :example-tile .
    
:example-tile a prov:Entity, vcard:Individual ;
    vcard:hasURL [vcard:url "http://dapds00.nci.org.au/thredds/catalog/rs0/tiles/EPSG4326_1deg_0.00025pixel/LS8_OLI_TIRS/148_-035/2016/catalog.html?dataset=rs0/tiles/EPSG4326_1deg_0.00025pixel/LS8_OLI_TIRS/148_-035/2016/LS8_OLI_TIRS_FC_148_-035_2016-01-12T23-55-57.tif"] .
    
:GeoscienceAustralia a prov:Agent, prov:Organization .

#################################################################
#        Dimensions and attributes
#################################################################

:exampleStructure a owl:NamedIndividual , qb:DataStructureDefinition ;
	qb:component :positionComponent ,
                 :latitudeComponent ,
                 :longitudeComponent ,
                 :timeComponent ,
                 :satelliteComponent ,
                 :instrumentComponent ,
                 :bandComponent ,
                 :dataComponent ,
                 :dggsComponent ,
                 :dggsCellComponent ,
                 :dggsLevelSquareComponent ,
                 :dggsLevelPixelComponent ,
                 :resolutionComponent ,
                 :boundsComponent .

:positionComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension led:location .
    
:latitudeComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension led:lat .
    
:longitudeComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension led:long .

:timeComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension :time .   
    
:satelliteComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute :satellite .   
    
:instrumentComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute :instrument .
    
:bandComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute :band .
    
:dataComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:measure :dataValue .
    
:dggsComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute :dggs .

:dggsCellComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension :dggsCell .
    
:dggsLevelSquareComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension :dggsLevelSquare .
    
:dggsLevelPixelComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:dimension :dggsLevelPixel .
    
:resolutionComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute led:resolution .
    
:boundsComponent a owl:NamedIndividual , qb:ComponentSpecification ;
	qb:attribute led:bounds .

#################################################################
#        New properties for the attributes
#################################################################

:time a owl:DatatypeProperty, qb:DimensionProperty ;
    rdfs:range xsd:dateTime ;
    qb:concept sdmx-concept:timePeriod .
    
:satellite a owl:ObjectProperty, qb:AttributeProperty ;
    rdfs:range ssn:Platform ;
    qb:concept sdmx-concept:collMethod .
    
:instrument a owl:ObjectProperty, qb:AttributeProperty ;
    rdfs:range ssn:Sensor ;
    qb:concept sdmx-concept:collMethod .
    
:band a owl:DatatypeProperty, qb:AttributeProperty ;
    rdfs:range xsd:integer .

:dggs a owl:DatatypeProperty, qb:AttributeProperty ;
    rdfs:range xsd:string .
    
:dggsCell a owl:DatatypeProperty, qb:DimensionProperty ;
    rdfs:range xsd:string ;
    qb:concept sdmx-concept:refArea .

:dggsLevelSquare a owl:DatatypeProperty, qb:DimensionProperty ;
    rdfs:range xsd:integer .
    
:dggsLevelPixel a owl:DatatypeProperty, qb:DimensionProperty ;
    rdfs:range xsd:integer .
    
:dataValue a led:imageData ;
    qb:concept :reflectance .

#################################################################
#        Observations
#################################################################

:s1 a led:GridSquare ;
    qb:dataSet :exampleDataset ;
    led:location [geo:lat "91.6667"; geo:long "40.0270"] ;
    led:lat "91.6667";
    led:long "40.0270";
    :time "2001-10-26T21:32:52"^^xsd:dateTime ;
    :dataValue "http://www.example.org/led-example-image-R000" ;
    led:resolution "0.9"^^led:pixelsPerDegree ;
    :dggsCell "R000" ;
    :dggsLevelSquare "3" ;
    :dggsLevelPixel "4" ;
    led:bounds  "POLYGON((90 41.87, 93.33 41.87, 93.33 38.18, 90 38.18, 90 41.87))"^^ogc:wktLiteral ;
    prov:wasDerivedFrom :example-tile .
    
:s2 a led:GridSquare ;
    qb:dataSet :exampleDataset ;
    led:location [geo:lat "90.5556"; geo:long "41.2471"] ;
    led:lat "90.5556";
    led:long "41.2471";
    :time "2001-10-26T21:32:52"^^xsd:dateTime ;
    :dataValue "http://www.example.org/led-example-image-R0000" ;
    led:resolution "2.7"^^led:pixelsPerDegree ;
    :dggsCell "R0000" ;
    :dggsLevelSquare "4" ;
    :dggsLevelPixel "5" ;
    led:bounds  "POLYGON((90 41.87, 91.11 41.87, 91.11 40.62, 90 40.62, 90 41.87))"^^ogc:wktLiteral ;
    prov:wasDerivedFrom :example-tile ;
    led:containedInSquare :s1 .
    
:p1 a led:Pixel ;
    qb:dataSet :exampleDataset ;
    led:location [geo:lat "90.5556"; geo:long "41.2444"] ;
    led:lat "90.5556";
    led:long "41.2444";
    :time "2001-10-26T21:32:52"^^xsd:dateTime ;
    :dataValue "15"^^xsd:integer ;
    led:resolution "2.7"^^led:pixelsPerDegree ;
    :dggsCell "R00004" ;
    :dggsLevelSquare "5" ;
    :dggsLevelPixel "5" ;
    led:bounds  "POLYGON((90.37 41.45, 90.74 41.45, 90.74 41.04, 90.37 41.04, 90.37 41.45))"^^ogc:wktLiteral ;
    prov:wasDerivedFrom :example-tile ;
    led:containedInSquare :s1 ;
    led:containedInSquare :s2 .
    
